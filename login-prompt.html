<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Login to Play - Tardle</title>
<style>
  /* Field Gothic Narrow Font Face */
  @font-face {
    font-family: 'Field Gothic Narrow';
    src: url('fonts/FieldGothicNarrow-Regular.woff2') format('woff2'),
         url('fonts/FieldGothicNarrow-Regular.woff') format('woff');
    font-weight: normal;
    font-style: normal;
    font-display: swap;
  }
  
  @font-face {
    font-family: 'Field Gothic Narrow';
    src: url('fonts/FieldGothicNarrow-Bold.woff2') format('woff2'),
         url('fonts/FieldGothicNarrow-Bold.woff') format('woff');
    font-weight: bold;
    font-style: normal;
    font-display: swap;
  }

  /* Ensure headings use bold */
  h1, h2, h3, h4, h5, h6 {
    font-weight: bold;
  }
  
  /* Ensure body/content uses regular */
  body {
    font-weight: normal;
  }

  /* Global Safari/Chrome button compatibility */
  button, 
  .button,
  [role="button"],
  a.button,
  input[type="button"],
  input[type="submit"],
  .close-button {
    -webkit-user-select: none;
    user-select: none;
    pointer-events: auto;
    -webkit-tap-highlight-color: transparent;
    -webkit-appearance: none;
    appearance: none;
    cursor: pointer;
  }

  body, html {
    height: 100%;
    width: 100%;
    display: flex;
    justify-content: center;
    align-items: center;
    margin: 0;
    overflow: hidden;
    background-color: #7BAFD4; 
    font-family: 'Field Gothic Narrow', sans-serif;
    font-weight: normal; 
  }

  .login-prompt-container {
    background-color: #ffffff;
    color: #000000;
    border-radius: 0;
    max-width: 550px;
    width: min(550px, 90vw);
    height: min(550px, 90vw);
    max-height: min(550px, 90vw, 90vh);
    aspect-ratio: 1 / 1;
    overflow: hidden;
    box-shadow: 0 0 10px rgba(0,0,0,0.1);
    position: relative;
    padding: 1cm;
    margin: auto;
    box-sizing: border-box;
    text-align: center;
    display: flex;
    flex-direction: column;
    justify-content: center;
  }

  .close-btn {
    font-size: clamp(28px, 4vw, 32px);
    font-weight: bold;
    color: #7BAFD4;
    cursor: pointer;
    background: none;
    border: none;
    padding: 0;
    line-height: 1;
    transition: opacity 0.2s ease;
    position: absolute;
    top: 20px;
    right: 20px;
    z-index: 1001;
    pointer-events: auto;
    -webkit-tap-highlight-color: transparent;
    -webkit-user-select: none;
    user-select: none;
    display: block;
    visibility: visible;
  }

  .close-btn:hover {
    opacity: 0.7;
  }
  
  .close-btn:active {
    opacity: 0.5;
  }

  .prompt-title {
    font-family: 'Field Gothic Narrow', sans-serif;
    font-size: 28px;
    font-weight: bold;
    color: #000;
    margin: 0 0 20px 0;
    text-align: center;
  }

  .prompt-icon {
    width: 90px;
    height: 90px;
    background-color: #ffffff;
    border-radius: 8px;
    display: flex;
    align-items: center;
    justify-content: center;
    margin: 20px auto;
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
  }

  .prompt-icon svg {
    width: 70px;
    height: 70px;
    stroke: #7BAFD4;
    fill: #7BAFD4;
  }

  .prompt-subtitle {
    font-family: 'Field Gothic Narrow', sans-serif;
    font-size: 24px;
    font-weight: bold;
    color: #000;
    margin: 20px 0 15px 0;
    text-align: center;
  }

  .prompt-text {
    font-family: 'Field Gothic Narrow', sans-serif;
    font-size: 15px;
    color: #000;
    margin: 0 0 30px 0;
    text-align: center;
    line-height: 1.6;
  }

  .button-container {
    display: flex;
    flex-direction: column;
    gap: 12px;
    width: 100%;
    margin: 0 auto;
  }

  .button {
    width: 100%;
    padding: 16px 24px;
    border: none;
    border-radius: 8px;
    font-family: 'Field Gothic Narrow', sans-serif;
    font-size: 15px;
    font-weight: bold;
    text-align: center;
    text-decoration: none;
    display: block;
    cursor: pointer;
    transition: background-color 0.2s ease;
    box-sizing: border-box;
  }

  .login-button {
    background-color: #7BAFD4;
    color: #fff;
  }

  .login-button:hover {
    background-color: #6a9fc0;
  }

  .signup-button {
    background-color: #7BAFD4;
    color: #fff;
  }

  .signup-button:hover {
    background-color: #6a9fc0;
  }

  .back-link {
    margin-top: 20px;
    color: #7BAFD4;
    text-decoration: none;
    font-size: 14px;
    transition: opacity 0.2s ease;
    display: inline-block;
  }

  .back-link:hover {
    opacity: 0.7;
    text-decoration: underline;
  }

  /* Mobile layout */
  @media (max-width: 768px) {
    body, html {
      overflow-y: auto;
      overflow-x: hidden;
      padding: 20px;
    }

    .login-prompt-container {
      width: min(550px, 90vw);
      height: min(550px, 90vw);
      max-height: min(550px, 90vw, 90vh);
      padding: 1cm;
    }

    .prompt-title {
      font-size: 24px;
    }

    .prompt-subtitle {
      font-size: 20px;
    }

    .prompt-text {
      font-size: 14px;
    }
  }
</style>
</head>

<body>
<div class="login-prompt-container">
  <button class="close-btn" onclick="window.location.href='index.html'">×</button>
  <h1 class="prompt-title">Play Tardle</h1>
  <div class="prompt-icon">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="#7BAFD4" stroke="#7BAFD4" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round">
      <!-- Ram head silhouette with curved horns -->
      <path d="M12 8 C10 6, 8 7, 7 9 C6 11, 6 13, 7 15 C7.5 16, 8.5 17, 10 17.5 C11 18, 12 18, 13 17.5 C14.5 17, 15.5 16, 16 15 C17 13, 17 11, 16 9 C15 7, 14 6, 12 8 Z" fill="#7BAFD4"/>
      <!-- Left horn -->
      <path d="M7 9 Q5 7, 4 9 Q3 11, 4 13 Q5 12, 6 11 Q6.5 10, 7 9" fill="#7BAFD4"/>
      <!-- Right horn -->
      <path d="M16 9 Q18 7, 19 9 Q20 11, 19 13 Q18 12, 17 11 Q16.5 10, 16 9" fill="#7BAFD4"/>
      <!-- Eye -->
      <circle cx="10" cy="12" r="1" fill="#7BAFD4"/>
      <circle cx="14" cy="12" r="1" fill="#7BAFD4"/>
    </svg>
  </div>
  <h2 class="prompt-subtitle">Start playing today.</h2>
  <p class="prompt-text">Create a free account or log in to play Tardle and track your progress.</p>
  
  <div class="button-container">
    <a href="login.html?return=play.html" class="button login-button">Log in</a>
    <a href="login.html?return=play.html" class="button signup-button">Create account</a>
  </div>

  <a href="index.html" class="back-link">← Back to homepage</a>
</div>

<!-- Firebase Config -->
<script type="module" src="firebase-config.js"></script>

<script>
  // Check if user is already logged in, redirect to play if so
  function checkAuthState() {
    const checkFirebase = setInterval(() => {
      if (window.firebaseAuthFunctions && window.firebaseAuth) {
        clearInterval(checkFirebase);
        
        window.firebaseAuthFunctions.onAuthStateChanged(window.firebaseAuth, (user) => {
          if (user) {
            // User is logged in - redirect to play
            window.location.href = 'play.html';
          }
        });
      }
    }, 100);
  }

  // Initialize auth check when page loads
  if (document.readyState === 'loading') {
    document.addEventListener('DOMContentLoaded', checkAuthState);
  } else {
    checkAuthState();
  }
</script>

</body>
</html>
