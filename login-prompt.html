<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Login to Play - Tardle</title>
<style>
  /* Field Gothic Narrow Font Face */
  @font-face {
    font-family: 'Field Gothic Narrow';
    src: url('fonts/FieldGothicNarrow-Regular.woff2') format('woff2'),
         url('fonts/FieldGothicNarrow-Regular.woff') format('woff');
    font-weight: normal;
    font-style: normal;
    font-display: swap;
  }
  
  @font-face {
    font-family: 'Field Gothic Narrow';
    src: url('fonts/FieldGothicNarrow-Bold.woff2') format('woff2'),
         url('fonts/FieldGothicNarrow-Bold.woff') format('woff');
    font-weight: bold;
    font-style: normal;
    font-display: swap;
  }

  /* Ensure headings use bold */
  h1, h2, h3, h4, h5, h6 {
    font-weight: bold;
  }
  
  /* Ensure body/content uses regular */
  body {
    font-weight: normal;
  }

  /* Global Safari/Chrome button compatibility */
  button, 
  .button,
  [role="button"],
  a.button,
  input[type="button"],
  input[type="submit"],
  .close-button {
    -webkit-user-select: none;
    user-select: none;
    pointer-events: auto;
    -webkit-tap-highlight-color: transparent;
    -webkit-appearance: none;
    appearance: none;
    cursor: pointer;
  }

  body, html {
    height: 100%;
    width: 100%;
    display: flex;
    justify-content: center;
    align-items: center;
    margin: 0;
    overflow: hidden;
    background-color: #7BAFD4; 
    font-family: 'Field Gothic Narrow', sans-serif;
    font-weight: normal; 
  }

  .login-prompt-container {
    background-color: #ffffff;
    color: #000000;
    border-radius: 0;
    max-width: 550px;
    width: min(550px, 90vw);
    height: min(550px, 90vw);
    max-height: min(550px, 90vw, 90vh);
    aspect-ratio: 1 / 1;
    overflow: hidden;
    box-shadow: 0 0 10px rgba(0,0,0,0.1);
    position: relative;
    padding: 1cm;
    margin: auto;
    box-sizing: border-box;
    text-align: center;
    display: flex;
    flex-direction: column;
    justify-content: center;
  }

  .close-btn {
    font-size: clamp(28px, 4vw, 32px);
    font-weight: bold;
    color: #7BAFD4;
    cursor: pointer;
    background: none;
    border: none;
    padding: 0;
    line-height: 1;
    transition: opacity 0.2s ease;
    position: absolute;
    top: 20px;
    right: 20px;
    z-index: 1001;
    pointer-events: auto;
    -webkit-tap-highlight-color: transparent;
    -webkit-user-select: none;
    user-select: none;
    display: block;
    visibility: visible;
  }

  .close-btn:hover {
    opacity: 0.7;
  }
  
  .close-btn:active {
    opacity: 0.5;
  }

  .prompt-title {
    font-family: 'Field Gothic Narrow', sans-serif;
    font-size: 28px;
    font-weight: bold;
    color: #000;
    margin: 0 0 20px 0;
    text-align: center;
  }

  .prompt-illustration {
    margin: 20px 0;
    text-align: center;
  }

  .prompt-subtitle {
    font-family: 'Field Gothic Narrow', sans-serif;
    font-size: 24px;
    font-weight: bold;
    color: #000;
    margin: 20px 0 15px 0;
    text-align: center;
  }

  .prompt-text {
    font-family: 'Field Gothic Narrow', sans-serif;
    font-size: 15px;
    color: #000;
    margin: 0 0 30px 0;
    text-align: center;
    line-height: 1.6;
  }

  .button-container {
    display: flex;
    flex-direction: column;
    gap: 12px;
    width: 100%;
    margin: 0 auto;
  }

  .button {
    width: 100%;
    padding: 16px 24px;
    border: none;
    border-radius: 8px;
    font-family: 'Field Gothic Narrow', sans-serif;
    font-size: 15px;
    font-weight: bold;
    text-align: center;
    text-decoration: none;
    display: block;
    cursor: pointer;
    transition: background-color 0.2s ease;
    box-sizing: border-box;
  }

  .login-button {
    background-color: #7BAFD4;
    color: #fff;
  }

  .login-button:hover {
    background-color: #6a9fc0;
  }

  .signup-button {
    background-color: #7BAFD4;
    color: #fff;
  }

  .signup-button:hover {
    background-color: #6a9fc0;
  }

  .back-link {
    margin-top: 20px;
    color: #7BAFD4;
    text-decoration: none;
    font-size: 14px;
    transition: opacity 0.2s ease;
    display: inline-block;
  }

  .back-link:hover {
    opacity: 0.7;
    text-decoration: underline;
  }

  /* Mobile layout */
  @media (max-width: 768px) {
    body, html {
      overflow-y: auto;
      overflow-x: hidden;
      padding: 20px;
    }

    .login-prompt-container {
      width: min(550px, 90vw);
      height: min(550px, 90vw);
      max-height: min(550px, 90vw, 90vh);
      padding: 1cm;
    }

    .prompt-title {
      font-size: 24px;
    }

    .prompt-subtitle {
      font-size: 20px;
    }

    .prompt-text {
      font-size: 14px;
    }
  }
</style>
</head>

<body>
<div class="login-prompt-container">
  <button class="close-btn" onclick="window.location.href='index.html'">×</button>
  <h1 class="prompt-title">Play Tardle</h1>
  <div class="prompt-illustration">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 400 300" style="max-width: 100%; height: auto;">
      <defs>
        <!-- Light blue gradient background -->
        <linearGradient id="bgGradient" x1="0%" y1="0%" x2="0%" y2="100%">
          <stop offset="0%" style="stop-color:#7BAFD4;stop-opacity:1" />
          <stop offset="100%" style="stop-color:#B8D4E8;stop-opacity:1" />
        </linearGradient>
      </defs>
      
      <!-- Dark blue rounded rectangular border -->
      <rect x="5" y="5" width="390" height="290" fill="none" stroke="#001A57" stroke-width="4" rx="12"/>
      
      <!-- Light blue gradient background -->
      <rect x="9" y="9" width="382" height="282" fill="url(#bgGradient)" rx="8"/>
      
      <!-- Game grid illustration -->
      <rect x="50" y="50" width="300" height="200" fill="#ffffff" stroke="#001A57" stroke-width="2" rx="8"/>
      
      <!-- Grid cells -->
      <!-- Row 1 -->
      <rect x="70" y="70" width="50" height="50" fill="#7BAFD4" stroke="#001A57" stroke-width="2" rx="4"/>
      <rect x="130" y="70" width="50" height="50" fill="#c9b458" stroke="#001A57" stroke-width="2" rx="4"/>
      <rect x="190" y="70" width="50" height="50" fill="#001A57" stroke="#001A57" stroke-width="2" rx="4"/>
      <rect x="250" y="70" width="50" height="50" fill="#7BAFD4" stroke="#001A57" stroke-width="2" rx="4"/>
      <rect x="310" y="70" width="30" height="50" fill="#7BAFD4" stroke="#001A57" stroke-width="2" rx="4"/>
      
      <!-- Row 2 -->
      <rect x="70" y="130" width="50" height="50" fill="#7BAFD4" stroke="#001A57" stroke-width="2" rx="4"/>
      <rect x="130" y="130" width="50" height="50" fill="#7BAFD4" stroke="#001A57" stroke-width="2" rx="4"/>
      <rect x="190" y="130" width="50" height="50" fill="#c9b458" stroke="#001A57" stroke-width="2" rx="4"/>
      <rect x="250" y="130" width="50" height="50" fill="#7BAFD4" stroke="#001A57" stroke-width="2" rx="4"/>
      <rect x="310" y="130" width="30" height="50" fill="#7BAFD4" stroke="#001A57" stroke-width="2" rx="4"/>
      
      <!-- Row 3 -->
      <rect x="70" y="190" width="50" height="50" fill="#001A57" stroke="#001A57" stroke-width="2" rx="4"/>
      <rect x="130" y="190" width="50" height="50" fill="#001A57" stroke="#001A57" stroke-width="2" rx="4"/>
      <rect x="190" y="190" width="50" height="50" fill="#001A57" stroke="#001A57" stroke-width="2" rx="4"/>
      <rect x="250" y="190" width="50" height="50" fill="#001A57" stroke="#001A57" stroke-width="2" rx="4"/>
      <rect x="310" y="190" width="30" height="50" fill="#001A57" stroke="#001A57" stroke-width="2" rx="4"/>
    </svg>
  </div>
  <h2 class="prompt-subtitle">Start playing today.</h2>
  <p class="prompt-text">Create a free account or log in to play Tardle and track your progress.</p>
  
  <div class="button-container">
    <a href="login.html?return=play.html" class="button login-button">Log in</a>
    <a href="login.html?return=play.html" class="button signup-button">Create account</a>
  </div>

  <a href="index.html" class="back-link">← Back to homepage</a>
</div>

<!-- Firebase Config -->
<script type="module" src="firebase-config.js"></script>

<script>
  // Check if user is already logged in, redirect to play if so
  function checkAuthState() {
    const checkFirebase = setInterval(() => {
      if (window.firebaseAuthFunctions && window.firebaseAuth) {
        clearInterval(checkFirebase);
        
        window.firebaseAuthFunctions.onAuthStateChanged(window.firebaseAuth, (user) => {
          if (user) {
            // User is logged in - redirect to play
            window.location.href = 'play.html';
          }
        });
      }
    }, 100);
  }

  // Initialize auth check when page loads
  if (document.readyState === 'loading') {
    document.addEventListener('DOMContentLoaded', checkAuthState);
  } else {
    checkAuthState();
  }
</script>

</body>
</html>
